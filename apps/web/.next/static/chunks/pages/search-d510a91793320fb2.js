(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{7726:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5645).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7958:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var r=a(2548),l=a(6152),t=a(7980),c=a(7726),i=a(7542);let n=(0,a(5645).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=a(8705),o=a.n(d);let m=t.A,x=c.A,h=i.A,u=o();function g(){let[e,s]=(0,l.useState)({make:"",model:"",year:"",hasAccidents:"",minYear:"",maxYear:""}),[a,t]=(0,l.useState)([]),[c,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),g=async()=>{i(!0);try{let s=e.make||e.model||"",a=new URLSearchParams;s&&a.append("q",s),e.make&&a.append("make",e.make),e.model&&a.append("model",e.model),e.year&&a.append("year",e.year),e.hasAccidents&&a.append("hasAccidents",e.hasAccidents);let r=await fetch("http://192.168.3.1:3001/api/search?".concat(a.toString()),{headers:{"x-api-key":"demo-api-key","Content-Type":"application/json"}});if(!r.ok)throw Error("Search failed");let l=await r.json();t(l.results||[])}catch(e){console.error("Search failed:",e)}finally{i(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h,{className:"h-8 w-8 text-blue-600 mr-2"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AeroFresh"})]}),(0,r.jsxs)("nav",{className:"flex space-x-8",children:[(0,r.jsx)(u,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"Dashboard"}),(0,r.jsx)(u,{href:"/search",className:"text-blue-600 font-medium",children:"Search"}),(0,r.jsx)(u,{href:"/live-tracking",className:"text-gray-600 hover:text-gray-900",children:"Live Tracking"}),(0,r.jsx)(u,{href:"/reports",className:"text-gray-600 hover:text-gray-900",children:"Reports"})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aircraft Search"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Find aircraft using advanced search filters"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),(0,r.jsxs)("button",{onClick:()=>o(!d),className:"lg:hidden flex items-center text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-1"}),d?"Hide":"Show"]})]}),(0,r.jsxs)("div",{className:"space-y-4 ".concat(d?"block":"hidden lg:block"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aircraft Make"}),(0,r.jsx)("input",{type:"text",value:e.make,onChange:a=>s({...e,make:a.target.value}),placeholder:"e.g., Cessna, Boeing",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aircraft Model"}),(0,r.jsx)("input",{type:"text",value:e.model,onChange:a=>s({...e,model:a.target.value}),placeholder:"e.g., 172, 737",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("input",{type:"number",value:e.minYear,onChange:a=>s({...e,minYear:a.target.value}),placeholder:"Min",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("input",{type:"number",value:e.maxYear,onChange:a=>s({...e,maxYear:a.target.value}),placeholder:"Max",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accident History"}),(0,r.jsxs)("select",{value:e.hasAccidents,onChange:a=>s({...e,hasAccidents:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter by accident history",children:[(0,r.jsx)("option",{value:"",children:"All Aircraft"}),(0,r.jsx)("option",{value:"false",children:"No Accidents"}),(0,r.jsx)("option",{value:"true",children:"Has Accidents"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:g,disabled:c,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:c?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Searching..."]}):(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-2"}),"Search"]})}),(0,r.jsx)("button",{onClick:()=>{s({make:"",model:"",year:"",hasAccidents:"",minYear:"",maxYear:""})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Clear filters",children:(0,r.jsx)(n,{className:"h-4 w-4"})})]})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Search Results (",a.length,")"]})}),a.length>0?(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:a.map(e=>(0,r.jsx)(u,{href:"/aircraft/".concat(e.tail),className:"block p-6 hover:bg-gray-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h,{className:"h-8 w-8 text-blue-600 mr-4"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.tail}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.make," ",e.model]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Year: ",e.year||"Unknown"]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"View Details"})})]})]})},e.tail))}):(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)(h,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Results Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search filters or search terms."})]})]})})]})]})]})}},7980:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(5645).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8019:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return a(7958)}])}},e=>{e.O(0,[292,636,593,792],()=>e(e.s=8019)),_N_E=e.O()}]);