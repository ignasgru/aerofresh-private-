"use strict";(()=>{var a={};a.id=788,a.ids=[220,788],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},55527:(a,b,c)=>{c.r(b),c.d(b,{config:()=>C,default:()=>y,getServerSideProps:()=>B,getStaticPaths:()=>A,getStaticProps:()=>z,handler:()=>K,reportWebVitals:()=>D,routeModule:()=>J,unstable_getServerProps:()=>H,unstable_getServerSideProps:()=>I,unstable_getStaticParams:()=>G,unstable_getStaticPaths:()=>F,unstable_getStaticProps:()=>E});var d={};c.r(d),c.d(d,{default:()=>w});var e=c(25086),f=c(43600),g=c(27292),h=c(71203),i=c.n(h),j=c(67721),k=c.n(j),l=c(8732),m=c(82015),n=c(18902),o=c(66923),p=c.n(o);let q=n.sDd,r=n.Zcv,s=n.e9t,t=n.dJT,u=n.zD7,v=p();function w(){let[a,b]=(0,m.useState)(null),[c,d]=(0,m.useState)(!1),[e,f]=(0,m.useState)(null),[g,h]=(0,m.useState)({limit:50,minutes:30,latMin:"",latMax:"",lonMin:"",lonMax:""}),[i,j]=(0,m.useState)("all"),k=async()=>{d(!0),f(null);try{let a="http://192.168.3.1:3001/api/tracking/live",c=new URLSearchParams;"all"===i?(c.append("limit",g.limit.toString()),c.append("minutes",g.minutes.toString())):(a="http://192.168.3.1:3001/api/tracking/region",c.append("limit",g.limit.toString()),g.latMin&&c.append("latMin",g.latMin),g.latMax&&c.append("latMax",g.latMax),g.lonMin&&c.append("lonMin",g.lonMin),g.lonMax&&c.append("lonMax",g.lonMax));let d=await fetch(`${a}?${c.toString()}`,{headers:{"x-api-key":"demo-api-key","Content-Type":"application/json"}});if(!d.ok)throw Error(`API Error: ${d.status} ${d.statusText}`);let e=await d.json();b(e)}catch(a){console.error("Failed to fetch live data:",a),f(`Failed to fetch live data: ${a instanceof Error?a.message:"Unknown error"}`)}finally{d(!1)}},n=a=>new Date(a).toLocaleTimeString();return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)(v,{href:"/",className:"flex items-center",children:[(0,l.jsx)(r,{className:"h-8 w-8 text-blue-600 mr-2"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AeroFresh"})]})}),(0,l.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,l.jsx)(v,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"Dashboard"}),(0,l.jsx)(v,{href:"/search",className:"text-gray-600 hover:text-gray-900",children:"Search"}),(0,l.jsx)(v,{href:"/live-tracking",className:"text-blue-600 font-semibold",children:"Live Tracking"})]})]})})}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Live Aircraft Tracking"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Real-time aircraft positions from ADS-B data sources"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(t,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),(0,l.jsxs)("select",{value:i,onChange:a=>j(a.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm","aria-label":"Select view mode",children:[(0,l.jsx)("option",{value:"all",children:"All Aircraft"}),(0,l.jsx)("option",{value:"region",children:"Regional View"})]})]}),"all"===i&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(u,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Time Range:"}),(0,l.jsxs)("select",{value:g.minutes,onChange:a=>h({...g,minutes:parseInt(a.target.value)}),className:"border border-gray-300 rounded-md px-3 py-1 text-sm","aria-label":"Select time range",children:[(0,l.jsx)("option",{value:5,children:"5 minutes"}),(0,l.jsx)("option",{value:15,children:"15 minutes"}),(0,l.jsx)("option",{value:30,children:"30 minutes"}),(0,l.jsx)("option",{value:60,children:"1 hour"}),(0,l.jsx)("option",{value:120,children:"2 hours"})]})]})}),"region"===i&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(q,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Region:"}),(0,l.jsx)("input",{type:"number",placeholder:"Lat Min",value:g.latMin,onChange:a=>h({...g,latMin:a.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm w-20"}),(0,l.jsx)("input",{type:"number",placeholder:"Lat Max",value:g.latMax,onChange:a=>h({...g,latMax:a.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm w-20"}),(0,l.jsx)("input",{type:"number",placeholder:"Lon Min",value:g.lonMin,onChange:a=>h({...g,lonMin:a.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm w-20"}),(0,l.jsx)("input",{type:"number",placeholder:"Lon Max",value:g.lonMax,onChange:a=>h({...g,lonMax:a.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm w-20"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Limit:"}),(0,l.jsxs)("select",{value:g.limit,onChange:a=>h({...g,limit:parseInt(a.target.value)}),className:"border border-gray-300 rounded-md px-3 py-1 text-sm","aria-label":"Select number of results to display",children:[(0,l.jsx)("option",{value:25,children:"25"}),(0,l.jsx)("option",{value:50,children:"50"}),(0,l.jsx)("option",{value:100,children:"100"}),(0,l.jsx)("option",{value:200,children:"200"})]})]}),(0,l.jsxs)("button",{onClick:k,disabled:c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[(0,l.jsx)(s,{className:`h-4 w-4 ${c?"animate-spin":""}`}),(0,l.jsx)("span",{children:c?"Loading...":"Refresh"})]})]}),a&&(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",a.count," aircraft • Last updated: ",n(a.lastUpdate)," • Time range: ",a.timeRange]})]}),e&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:e}),c&&!a&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading live aircraft data..."})]}),a&&a.positions.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.positions.map(a=>{let b,c;return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(r,{className:"h-6 w-6 text-blue-600 mr-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.tail}),a.aircraft&&(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[a.aircraft.make," ",a.aircraft.model," (",a.aircraft.year,")"]})]})]}),(0,l.jsx)(v,{href:`/aircraft/${a.tail}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Position:"}),(0,l.jsxs)("span",{className:"font-mono",children:[a.lat.toFixed(4),", ",a.lon.toFixed(4)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Altitude:"}),(0,l.jsx)("span",{children:(b=a.alt,`${Math.round(3.28084*b)} ft`)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Speed:"}),(0,l.jsx)("span",{children:(c=a.speed,`${Math.round(1.94384*c)} kts`)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Heading:"}),(0,l.jsxs)("span",{children:[a.heading.toFixed(0),"\xb0 ",["N","NE","E","SE","S","SW","W","NW"][Math.round(a.heading/45)%8]]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Last Update:"}),(0,l.jsx)("span",{children:n(a.ts)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Source:"}),(0,l.jsx)("span",{className:"capitalize",children:a.src})]})]})]},a.id)})}),a&&0===a.positions.length&&(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(r,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Aircraft Found"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No aircraft positions found for the selected criteria. Try adjusting your filters."})]})]})]})}var x=c(20690);let y=(0,g.M)(d,"default"),z=(0,g.M)(d,"getStaticProps"),A=(0,g.M)(d,"getStaticPaths"),B=(0,g.M)(d,"getServerSideProps"),C=(0,g.M)(d,"config"),D=(0,g.M)(d,"reportWebVitals"),E=(0,g.M)(d,"unstable_getStaticProps"),F=(0,g.M)(d,"unstable_getStaticPaths"),G=(0,g.M)(d,"unstable_getStaticParams"),H=(0,g.M)(d,"unstable_getServerProps"),I=(0,g.M)(d,"unstable_getServerSideProps"),J=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/live-tracking",pathname:"/live-tracking",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:d}),K=(0,x.U)({srcPage:"/live-tracking",config:C,userland:d,routeModule:J,getStaticPaths:A,getStaticProps:z,getServerSideProps:B})},82015:a=>{a.exports=require("react")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[203,167,902,923],()=>b(b.s=55527));module.exports=c})();