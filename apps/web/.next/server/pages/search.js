"use strict";(()=>{var a={};a.id=612,a.ids=[220,612],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},33873:a=>{a.exports=require("path")},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},70226:(a,b,c)=>{c.r(b),c.d(b,{config:()=>B,default:()=>x,getServerSideProps:()=>A,getStaticPaths:()=>z,getStaticProps:()=>y,handler:()=>J,reportWebVitals:()=>C,routeModule:()=>I,unstable_getServerProps:()=>G,unstable_getServerSideProps:()=>H,unstable_getStaticParams:()=>F,unstable_getStaticPaths:()=>E,unstable_getStaticProps:()=>D});var d={};c.r(d),c.d(d,{default:()=>v});var e=c(25086),f=c(43600),g=c(27292),h=c(71203),i=c.n(h),j=c(67721),k=c.n(j),l=c(8732),m=c(82015),n=c(18902),o=c(66923),p=c.n(o);let q=n.vji,r=n.dJT,s=n.Zcv,t=n.X,u=p();function v(){let[a,b]=(0,m.useState)({make:"",model:"",year:"",hasAccidents:"",minYear:"",maxYear:""}),[c,d]=(0,m.useState)([]),[e,f]=(0,m.useState)(!1),[g,h]=(0,m.useState)(!1),i=async()=>{f(!0);try{let b=a.make||a.model||"",c=new URLSearchParams;b&&c.append("q",b),a.make&&c.append("make",a.make),a.model&&c.append("model",a.model),a.year&&c.append("year",a.year),a.hasAccidents&&c.append("hasAccidents",a.hasAccidents);let e=await fetch(`http://192.168.3.1:3001/api/search?${c.toString()}`,{headers:{"x-api-key":"demo-api-key","Content-Type":"application/json"}});if(!e.ok)throw Error("Search failed");let f=await e.json();d(f.results||[])}catch(a){console.error("Search failed:",a)}finally{f(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(s,{className:"h-8 w-8 text-blue-600 mr-2"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AeroFresh"})]}),(0,l.jsxs)("nav",{className:"flex space-x-8",children:[(0,l.jsx)(u,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"Dashboard"}),(0,l.jsx)(u,{href:"/search",className:"text-blue-600 font-medium",children:"Search"}),(0,l.jsx)(u,{href:"/live-tracking",className:"text-gray-600 hover:text-gray-900",children:"Live Tracking"}),(0,l.jsx)(u,{href:"/reports",className:"text-gray-600 hover:text-gray-900",children:"Reports"})]})]})})}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aircraft Search"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Find aircraft using advanced search filters"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),(0,l.jsxs)("button",{onClick:()=>h(!g),className:"lg:hidden flex items-center text-blue-600 hover:text-blue-700",children:[(0,l.jsx)(r,{className:"h-4 w-4 mr-1"}),g?"Hide":"Show"]})]}),(0,l.jsxs)("div",{className:`space-y-4 ${g?"block":"hidden lg:block"}`,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aircraft Make"}),(0,l.jsx)("input",{type:"text",value:a.make,onChange:c=>b({...a,make:c.target.value}),placeholder:"e.g., Cessna, Boeing",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aircraft Model"}),(0,l.jsx)("input",{type:"text",value:a.model,onChange:c=>b({...a,model:c.target.value}),placeholder:"e.g., 172, 737",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Range"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsx)("input",{type:"number",value:a.minYear,onChange:c=>b({...a,minYear:c.target.value}),placeholder:"Min",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("input",{type:"number",value:a.maxYear,onChange:c=>b({...a,maxYear:c.target.value}),placeholder:"Max",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accident History"}),(0,l.jsxs)("select",{value:a.hasAccidents,onChange:c=>b({...a,hasAccidents:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter by accident history",children:[(0,l.jsx)("option",{value:"",children:"All Aircraft"}),(0,l.jsx)("option",{value:"false",children:"No Accidents"}),(0,l.jsx)("option",{value:"true",children:"Has Accidents"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:i,disabled:e,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:e?(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Searching..."]}):(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)(q,{className:"h-4 w-4 mr-2"}),"Search"]})}),(0,l.jsx)("button",{onClick:()=>{b({make:"",model:"",year:"",hasAccidents:"",minYear:"",maxYear:""})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Clear filters",children:(0,l.jsx)(t,{className:"h-4 w-4"})})]})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,l.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Search Results (",c.length,")"]})}),c.length>0?(0,l.jsx)("div",{className:"divide-y divide-gray-200",children:c.map(a=>(0,l.jsx)(u,{href:`/aircraft/${a.tail}`,className:"block p-6 hover:bg-gray-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(s,{className:"h-8 w-8 text-blue-600 mr-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:a.tail}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[a.make," ",a.model]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Year: ",a.year||"Unknown"]}),(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"View Details"})})]})]})},a.tail))}):(0,l.jsxs)("div",{className:"p-12 text-center",children:[(0,l.jsx)(s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Results Found"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search filters or search terms."})]})]})})]})]})]})}var w=c(20690);let x=(0,g.M)(d,"default"),y=(0,g.M)(d,"getStaticProps"),z=(0,g.M)(d,"getStaticPaths"),A=(0,g.M)(d,"getServerSideProps"),B=(0,g.M)(d,"config"),C=(0,g.M)(d,"reportWebVitals"),D=(0,g.M)(d,"unstable_getStaticProps"),E=(0,g.M)(d,"unstable_getStaticPaths"),F=(0,g.M)(d,"unstable_getStaticParams"),G=(0,g.M)(d,"unstable_getServerProps"),H=(0,g.M)(d,"unstable_getServerSideProps"),I=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/search",pathname:"/search",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:d}),J=(0,w.U)({srcPage:"/search",config:B,userland:d,routeModule:I,getStaticPaths:z,getStaticProps:y,getServerSideProps:A})},82015:a=>{a.exports=require("react")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[203,167,902,923],()=>b(b.s=70226));module.exports=c})();